(function(e,j){e.setStorage=function(a,b){try{return localStorage.setItem(a,JSON.stringify(b)),!0}catch(c){return!1}};e.existsInStorage=function(a){return e.parseJSON(localStorage.getItem(a)||"false")};e.clearStorage=function(a){if(!localStorage)return this;var b,c=+new Date;for(b in localStorage)obj=e.existsInStorage(b),(!a||obj&&obj.expire<=c)&&e.removeFromStorage(b);return this};e.removeFromStorage=function(a){localStorage.removeItem(a);return this};j.jqLocalStorage=function(){this.head=document.head||
document.getElementsByTagName("head")[0]};jqLocalStorage.prototype.defaultExpiration=5E3;jqLocalStorage.prototype.cssmin=function(a,b){var c=0,d=0,e=!1,f=!1,f=d=0,h=[],f="";for(a=a.replace(/("([^\\"]|\\.|\\)*")|('([^\\']|\\.|\\)*')/g,function(a){var c=a[0];h.push(a.slice(1,-1));return c+"___YUICSSMIN_PRESERVED_TOKEN_"+(h.length-1)+"___"+c});0<=(c=a.indexOf("/*",c));)f=a.length>c+2&&"!"===a[c+2],d=a.indexOf("*/",c+2),0>d?f||(a=a.slice(0,c)):d>=c+2&&("\\"===a[d-1]?(a=a.slice(0,c)+"/*\\*/"+a.slice(d+
2),c+=5,e=!0):e&&!f?(a=a.slice(0,c)+"/**/"+a.slice(d+2),c+=4,e=!1):f?(f=a.slice(c+3,d),h.push(f),a=a.slice(0,c+2)+"___YUICSSMIN_PRESERVED_TOKEN_"+(h.length-1)+"___"+a.slice(d),e&&(e=!1),c+=2):a=a.slice(0,c)+a.slice(d+2));a=a.replace(/\s+/g," ");a=a.replace(/(^|\})(([^\{:])+:)+([^\{]*\{)/g,function(a){return a.replace(":","___YUICSSMIN_PSEUDOCLASSCOLON___")});a=a.replace(/\s+([!{};:>+\(\)\],])/g,"$1");a=a.replace(/___YUICSSMIN_PSEUDOCLASSCOLON___/g,":");a=a.replace(/:first-(line|letter)({|,)/g,":first-$1 $2");
a=a.replace(/\*\/ /g,"*/");a=a.replace(/^(.*)(@charset "[^"]*";)/gi,"$2$1");a=a.replace(/^(\s*@charset [^;]+;\s*)+/gi,"$1");a=a.replace(/\band\(/gi,"and (");a=a.replace(/([!{}:;>+\(\[,])\s+/g,"$1");a=a.replace(/;+}/g,"}");a=a.replace(/([\s:])(0)(px|em|%|in|cm|mm|pc|pt|ex)/gi,"$1$2");a=a.replace(/:0 0 0 0;/g,":0;");a=a.replace(/:0 0 0;/g,":0;");a=a.replace(/:0 0;/g,":0;");a=a.replace(/background-position:0;/gi,"background-position:0 0;");a=a.replace(/(:|\s)0+\.(\d+)/g,"$1.$2");a=a.replace(/rgb\s*\(\s*([0-9,\s]+)\s*\)/gi,
function(a,c){for(var b=c.split(","),d=0;d<b.length;d++)b[d]=parseInt(b[d],10).toString(16),1===b[d].length&&(b[d]="0"+b[d]);return"#"+b.join("")});a=a.replace(/([^"'=\s])(\s*)#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])/gi,function(){var a=arguments;return a[3].toLowerCase()===a[4].toLowerCase()&&a[5].toLowerCase()===a[6].toLowerCase()&&a[7].toLowerCase()===a[8].toLowerCase()?(a[1]+a[2]+"#"+a[3]+a[5]+a[7]).toLowerCase():a[0].toLowerCase()});a=a.replace(/[^\};\{\/]+\{\}/g,"");if(0<=
b)for(d=c=0;d<a.length;)"}"===a[d++]&&d-c>b&&(a=a.slice(0,d)+"\n"+a.slice(d),c=d);a=a.replace(/;;+/g,";");d=0;for(f=h.length;d<f;d++)a=a.replace("___YUICSSMIN_PRESERVED_TOKEN_"+d+"___",h[d]);return a=a.replace(/^\s+|\s+$/g,"")};jqLocalStorage.prototype.wrapStoreData=function(a){var b=+new Date;a.stamp=b;a.expire=b+36E5*(a.expire||this.defaultExpiration);return a};jqLocalStorage.prototype.isLocal=function(a){var b=-1!=a.indexOf("http://"),c=-1!=a.indexOf("https://"),d=-1!=a.indexOf("//");a.charAt(0);
return!b&&!c&&!d};jqLocalStorage.prototype.isCSS=function(a){return-1!=a.indexOf(".css")};jqLocalStorage.prototype.injectScriptTagByText=function(a){var b=document.createElement("script");b.defer=!0;b.text=a.text;this.head.appendChild(b)};jqLocalStorage.prototype.injectStyleTagByText=function(a){e("head").append("<style>"+a.text+"</style>")};jqLocalStorage.prototype.injectScriptTagBySrc=function(a,b){var c=document.createElement("script");c.defer=!0;c.src=a;c.onload=c.onreadystatechange=function(){b.resolve()};
this.head.appendChild(c)};jqLocalStorage.prototype.injectStyleTagBySrc=function(a){var b=document.createElement("link");b.href=a;this.head.appendChild(b)};jqLocalStorage.prototype.loadScriptContentAndCacheIt=function(a,b){var c=this;return e.get(a,null,null,"script").then(function(d){b.text=d;c.injectScriptTagByText(b);e.setStorage(a,b)})};jqLocalStorage.prototype.loadStyleContentAndCacheIt=function(a,b){var c=this;return e.get(a).then(function(d){b.text=c.cssmin(d,80);c.injectStyleTagByText(b);e.setStorage(a,
b)})};jqLocalStorage.prototype.handle_file=function(a){if(a&&a.url){a=this.wrapStoreData(a);var b=a.url,c=this.isLocal(b),d,g=e.Deferred();c&&((d=e.existsInStorage(b))?a=d:a.unique&&(a.url+=(0<a.url.indexOf("?")?"&":"?")+"loader-cachebust="+a.unique));this.isCSS(b)?d?(this.injectStyleTagByText(d),g.resolve()):c?e.when(this.loadStyleContentAndCacheIt(b,a)).then(function(){g.resolve()}):(this.injectStyleTagBySrc(b),g.resolve()):d?(this.injectScriptTagByText(d),g.resolve()):c?e.when(this.loadScriptContentAndCacheIt(b,
a)).then(function(){g.resolve()}):this.injectScriptTagBySrc(b,g);return g.promise()}};var k=new jqLocalStorage;e.clearStorage(!0);e.cacheFiles=function(a){var b=[],c;for(c in a)b.push(k.handle_file(a[c]));return e.when.apply(e,b)}})(jQuery,window);